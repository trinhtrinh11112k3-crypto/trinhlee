<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Giải Phương Trình Bậc 2</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 py-8 px-4">
  <div class="max-w-4xl mx-auto">
    <div class="text-center mb-8">
      <h1 class="text-4xl font-bold text-gray-800 mb-2">Giải Phương Trình Bậc 2</h1>
      <p class="text-gray-600">Nhập các hệ số để tìm nghiệm của phương trình ax² + bx + c = 0</p>
    </div>

    <div class="bg-white rounded-2xl shadow-xl p-8 mb-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
        <div>
          <label for="heSoA" class="block text-sm font-medium text-gray-700 mb-2">Hệ số a</label>
          <input
            type="number"
            id="heSoA"
            step="any"
            placeholder="Nhập a"
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
          />
        </div>
        <div>
          <label for="heSoB" class="block text-sm font-medium text-gray-700 mb-2">Hệ số b</label>
          <input
            type="number"
            id="heSoB"
            step="any"
            placeholder="Nhập b"
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
          />
        </div>
        <div>
          <label for="heSoC" class="block text-sm font-medium text-gray-700 mb-2">Hệ số c</label>
          <input
            type="number"
            id="heSoC"
            step="any"
            placeholder="Nhập c"
            class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"
          />
        </div>
      </div>

      <div class="flex justify-center space-x-4">
        <button
          id="giaiBtn"
          onclick="giaiPhuongTrinh()"
          class="bg-indigo-600 text-white px-6 py-2 rounded-md hover:bg-indigo-700 disabled:opacity-50"
        >
          Giải
        </button>
        <button
          id="lamLaiBtn"
          onclick="lamLai()"
          class="bg-gray-300 text-gray-700 px-6 py-2 rounded-md hover:bg-gray-400 disabled:opacity-50"
        >
          Làm lại
        </button>
      </div>
    </div>

    <div id="ketQua" class="bg-white rounded-2xl shadow-xl p-8 hidden">
      <h2 class="text-2xl font-semibold text-gray-800 mb-4">Kết quả</h2>
      <div id="buocGiai" class="space-y-2 text-gray-700"></div>
      <div id="nghiem" class="mt-6 text-green-600 font-semibold"></div>
    </div>
  </div>

  <script>
    function giaiPhuongTrinh() {
      const aInput = document.getElementById('heSoA');
      const bInput = document.getElementById('heSoB');
      const cInput = document.getElementById('heSoC');
      const ketQuaDiv = document.getElementById('ketQua');
      const buocGiaiDiv = document.getElementById('buocGiai');
      const nghiemDiv = document.getElementById('nghiem');

      const a = parseFloat(aInput.value);
      const b = parseFloat(bInput.value);
      const c = parseFloat(cInput.value);

      buocGiaiDiv.innerHTML = '';
      nghiemDiv.innerHTML = '';

      if (isNaN(a) || isNaN(b) || isNaN(c)) {
        alert('Vui lòng nhập đầy đủ các hệ số hợp lệ!');
        ketQuaDiv.classList.add('hidden');
        return;
      }

      const buocGiai = [];
      buocGiai.push(`Phương trình: ${a}x² + ${b}x + ${c} = 0`);

      if (a === 0) {
        buocGiai.push(`Vì a = 0, đây là phương trình bậc nhất: ${b}x + ${c} = 0`);

        if (b === 0) {
          if (c === 0) {
            buocGiai.push('Phương trình có vô số nghiệm');
            hienThiKetQua(buocGiai, 'Phương trình có vô số nghiệm.', 'green');
          } else {
            buocGiai.push('Phương trình vô nghiệm');
            hienThiKetQua(buocGiai, 'Phương trình vô nghiệm.', 'red');
          }
        } else {
          const nghiem = -c / b;
          buocGiai.push(`Nghiệm: x = -c/b = -${c}/${b} = ${nghiem.toFixed(4)}`);
          hienThiKetQua(buocGiai, `Nghiệm: x = ${nghiem.toFixed(4)}`, 'green');
        }
        return;
      }

      const delta = b * b - 4 * a * c;
      buocGiai.push(`Tính delta: Δ = b² - 4ac = ${b}² - 4*${a}*${c} = ${delta}`);

      if (delta < 0) {
        buocGiai.push('Vì Δ < 0, phương trình vô nghiệm');
        hienThiKetQua(buocGiai, 'Phương trình vô nghiệm.', 'red');
      } else if (delta === 0) {
        const nghiem = -b / (2 * a);
        buocGiai.push(`Vì Δ = 0, phương trình có nghiệm kép: x = -b/2a = -${b}/(2*${a}) = ${nghiem.toFixed(4)}`);
        hienThiKetQua(buocGiai, `Nghiệm kép: x = ${nghiem.toFixed(4)}`, 'green');
      } else {
        const nghiem1 = (-b + Math.sqrt(delta)) / (2 * a);
        const nghiem2 = (-b - Math.sqrt(delta)) / (2 * a);
        buocGiai.push('Vì Δ > 0, phương trình có 2 nghiệm phân biệt:');
        buocGiai.push(`x₁ = (-b + √Δ)/2a = (-${b} + √${delta})/(2*${a}) = ${nghiem1.toFixed(4)}`);
        buocGiai.push(`x₂ = (-b - √Δ)/2a = (-${b} - √${delta})/(2*${a}) = ${nghiem2.toFixed(4)}`);
        hienThiKetQua(buocGiai, `Nghiệm x₁ = ${nghiem1.toFixed(4)}, x₂ = ${nghiem2.toFixed(4)}`, 'green');
      }
    }

    function hienThiKetQua(buocGiai, nghiemText, color) {
      const ketQuaDiv = document.getElementById('ketQua');
      const buocGiaiDiv = document.getElementById('buocGiai');
      const nghiemDiv = document.getElementById('nghiem');

      buocGiaiDiv.innerHTML = '';
      buocGiai.forEach(buoc => {
        const p = document.createElement('p');
        p.textContent = buoc;
        buocGiaiDiv.appendChild(p);
      });

      nghiemDiv.textContent = nghiemText;
      nghiemDiv.style.color = color;

      ketQuaDiv.classList.remove('hidden');
    }

    function lamLai() {
      document.getElementById('heSoA').value = '';
      document.getElementById('heSoB').value = '';
      document.getElementById('heSoC').value = '';
      document.getElementById('ketQua').classList.add('hidden');
    }
  </script>
</body>
</html>
